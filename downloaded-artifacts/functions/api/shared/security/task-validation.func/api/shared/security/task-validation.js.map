{"version":3,"names":["validateParentTaskOwnership","context","userId","parentTaskId","valid","error","data","parentTask","supabase","from","select","eq","single","message","user_id","validateTaskCreation","taskInput","parent_task_id","parentValidation","validateTaskUpdate","taskId","updates","undefined","currentTask","finalUserId","createTaskSecurely","validation","Error","insert","updateTaskSecurely","update"],"sources":["task-validation.js"],"mappings":"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","ignoreList":[]}